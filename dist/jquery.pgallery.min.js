/*
 *  jquery-pgallery - v0.0.1
 *  A simple jQuery gallery-plugin for pinterest boards.
 *  
 *
 *  Made by Thomas Horster
 *  Under MIT License
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){function b(b,e){this.element=b,this.options=a.extend({},d,e),this._defaults=d,this._name=c,this.init(this.options)}var c="pgallery",d={userName:"horster",boardName:"leipzig-3"};b.prototype={init:function(a){a.boardUrl=["https://api.pinterest.com/v3/pidgets/boards/",a.userName,"/",a.boardName,"/pins/"].join(""),this.handleRequest(a),this.handleOverlay(a)},template:function(a,b){return a.replace(/%(\w*)%/g,function(a,c){return b.hasOwnProperty(c)?b[c]:""})},handleRequest:function(b){var c=this,d=a.get(b.boardUrl,"jsonp");d.done(function(d){var e=d.data.pins;a.each(e,function(){var d=this.images["237x"].url,e=d.replace("237x","1200x"),f=c.template(b.template,{bigUrl:e,thumbUrl:d,boardName:b.boardName});a(f).appendTo(c.element)})}),d.fail(function(a,b,c){alert("error: "+b),alert("error: "+c)})},handleOverlay:function(){var b=a("body").find("div.cover");a(this.element).on("click","a",function(a){b.addClass("cover--active"),b.find("div.cover__image-area").empty().append('<img src="'+this.href+'" alt="" />'),a.preventDefault()}),b.on("click",function(){a(this).removeClass("cover--active")})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}});